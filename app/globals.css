/* Self-hosted Pretendard font-face */
@font-face {
  font-family: 'Pretendard';
  src: url('/fonts/Pretendard-Regular.woff2') format('woff2');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: 'Pretendard';
  src: url('/fonts/Pretendard-Medium.woff2') format('woff2');
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: 'Pretendard';
  src: url('/fonts/Pretendard-Bold.woff2') format('woff2');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}
@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Malgun Gothic', 'Apple SD Gothic Neo', sans-serif !important;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-display: swap;
}

/* WebView 텍스트 자동 확대/굵기 방지 */
html { -webkit-text-size-adjust: 100%; text-size-adjust: 100%; }
body { font-synthesis: none; }

/* 네이버 앱 웹뷰에서만 적용되는 시스템 폰트 스타일 (JavaScript에서 동적으로 처리) */

/* 네이버 파워링크 환경 대응 - 폰트 로딩 실패 시 일관된 렌더링 */
@font-face {
  font-family: 'Pretendard';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Pretendard Regular'), local('Pretendard-Regular');
}

/* 폰트 로딩 상태별 스타일 통일 */
.font-loading {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans KR', 'Malgun Gothic', 'Apple SD Gothic Neo', sans-serif;
  visibility: hidden;
}

.font-loaded {
  font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans KR', 'Malgun Gothic', 'Apple SD Gothic Neo', sans-serif;
  visibility: visible;
}

/* 콘텐츠 보호 스타일 - 개발 환경에서는 적용되지 않음 */
.content-protection {
  /* 텍스트 선택 방지 */
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  
  /* 드래그 방지 */
  -webkit-user-drag: none;
  -khtml-user-drag: none;
  -moz-user-drag: none;
  -o-user-drag: none;
  user-drag: none;
  
  /* 하이라이트 방지 */
  -webkit-touch-callout: none;
  -webkit-tap-highlight-color: transparent;
}

/* 이미지 보호 */
.content-protection img {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  
  -webkit-user-drag: none;
  -khtml-user-drag: none;
  -moz-user-drag: none;
  -o-user-drag: none;
  user-drag: none;
  
  pointer-events: none;
}

/* 인쇄시 숨김 */
@media print {
  .content-protection {
    display: none !important;
  }
}

/* 입력 필드에서는 선택 허용 */
.content-protection input,
.content-protection textarea,
.content-protection select,
.content-protection [contenteditable="true"] {
  -webkit-user-select: text !important;
  -moz-user-select: text !important;
  -ms-user-select: text !important;
  user-select: text !important;
  
  -webkit-user-drag: auto !important;
  -khtml-user-drag: auto !important;
  -moz-user-drag: auto !important;
  -o-user-drag: auto !important;
  user-drag: auto !important;
  
  pointer-events: auto !important;
}

@keyframes shine {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

.animate-shine {
  animation: shine 2s ease-in-out infinite;
}

@keyframes shine-strong {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

.animate-shine-strong {
  animation: shine-strong 1.5s ease-in-out infinite;
}

@keyframes wobble-shake {
  0% { 
    transform: translateX(-8px) rotate(-2deg);
    filter: drop-shadow(2px 4px 8px rgba(0, 0, 0, 0.12));
  }
  50% { 
    transform: translateX(8px) rotate(2deg);
    filter: drop-shadow(-2px 4px 8px rgba(0, 0, 0, 0.12));
  }
  100% { 
    transform: translateX(-8px) rotate(-2deg);
    filter: drop-shadow(2px 4px 8px rgba(0, 0, 0, 0.12));
  }
}

@keyframes jump-glow {
  0%, 100% { transform: scale(1); filter: drop-shadow(0 0 0 #e23c3c); }
  30% { transform: scale(1.18) translateY(-6px); filter: drop-shadow(0 0 8px #f87171); }
  60% { transform: scale(0.95) translateY(2px); filter: drop-shadow(0 0 0 #e23c3c); }
}

@keyframes shine-inline {
  0% { left: -100%; }
  100% { left: 100%; }
}
